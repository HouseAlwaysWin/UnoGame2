# UNO 遊戲 - 發牌動畫功能

## 新增功能

### 發牌動畫特效
- **拋物線軌跡**: 卡牌從抽牌堆沿著優雅的拋物線軌跡滑動到玩家手牌
- **翻牌效果**: 卡牌在飛行過程中會旋轉，從背面翻轉到正面
- **彈跳效果**: 卡牌到達目標位置時會有彈跳動畫，增加視覺趣味性
- **軌跡線**: 動畫過程中會顯示白色半透明的軌跡線，增強視覺效果

### 手牌滾動功能
- **左右滾動按鈕**: 當手牌過多時，會顯示左右箭頭按鈕
- **自動滾動**: 最多同時顯示8張牌，超出部分可以滾動查看
- **智能按鈕控制**: 按鈕會根據滾動位置自動顯示/隱藏和啟用/禁用
- **平滑滾動**: 使用ScrollContainer實現流暢的滾動體驗

### 手牌選中功能
- **點擊選中**: 點擊手牌可以選中該牌，選中的牌會往上移動20像素
- **一次選中**: 同時只能選中一張牌，點擊其他牌會切換選中
- **取消選中**: 再次點擊同一張牌可以取消選中
- **出牌按鈕**: 只有選中牌後才能點擊"出牌"按鈕
- **視覺反饋**: 選中的牌會有明顯的視覺區別，方便識別

### 出牌功能
- **出牌按鈕**: 新增紅色"出牌"按鈕，只有選中牌後才能使用
- **規則檢查**: 系統會檢查選中的牌是否符合出牌規則
- **按鈕狀態**: 不符合規則時出牌按鈕會被禁用
- **自動清理**: 出牌後會自動清空選中狀態並更新顯示

### 動畫特點
- **流暢的動畫**: 使用二次貝塞爾曲線實現平滑的拋物線運動
- **防重複點擊**: 動畫進行時會禁用抽牌按鈕，防止重複操作
- **視覺反饋**: 豐富的視覺效果讓遊戲更加生動有趣
- **性能優化**: 動畫完成後會自動清理資源
- **初始發牌動畫**: 遊戲開始時會通過動畫發放7張初始手牌

### 使用方法
1. **遊戲開始**: 進入遊戲後會自動播放初始發牌動畫
2. **抽牌**: 點擊"抽牌"按鈕觀看卡牌從抽牌堆滑動到玩家手牌的動畫
3. **手牌滾動**: 當手牌超過8張時，使用左右箭頭按鈕滾動查看所有手牌
4. **選中手牌**: 點擊手牌選中，選中的牌會往上移動
5. **出牌**: 選中符合規則的牌後，點擊"出牌"按鈕打出該牌
6. **動畫完成**: 動畫完成後，卡牌會自動添加到玩家手牌中

### 技術實現
- 使用 Godot 的 Tween 系統實現動畫
- 二次貝塞爾曲線計算拋物線軌跡
- Line2D 組件創建軌跡線效果
- ScrollContainer 實現手牌滾動功能
- 遞歸動畫實現連續發牌效果
- 選中狀態管理實現手牌選中功能

### 修復的問題
- **初始手牌直接顯示**: 修復了遊戲開始時手牌直接出現的問題
- **動畫不工作**: 現在所有發牌動作都會通過動畫完成
- **視覺體驗**: 添加了延遲和間隔，讓動畫更自然流暢
- **手牌過多**: 添加了滾動功能，解決手牌過多時的顯示問題
- **手牌選中**: 實現了手牌選中功能，提供更好的用戶體驗

## 開發環境
- Godot 4.x
- C# 腳本
- .NET 6.0+

## 編譯和運行
```bash
dotnet build
```
然後在 Godot 編輯器中運行項目。

## 動畫流程
1. **遊戲初始化**: 創建牌組、洗牌、設置頂牌
2. **初始發牌**: 通過動畫發放7張初始手牌（每張間隔0.2秒）
3. **抽牌動畫**: 點擊抽牌按鈕觸發動畫
4. **手牌滾動**: 當手牌超過8張時，使用滾動按鈕查看所有手牌
5. **手牌選中**: 點擊手牌選中，選中的牌往上移動
6. **出牌**: 選中符合規則的牌後可以出牌
7. **動畫完成**: 卡牌添加到手牌，更新顯示 